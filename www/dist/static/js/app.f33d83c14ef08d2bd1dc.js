webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},o,!1,function(t){a("rR3T")},null,null).exports,i=a("/ocq"),r={name:"",data:function(){return{newowner:{username:"",businessName:"",email:"",password:""},newTruck:{name:"",businessName:"",cuisine:"",location:{street:"",city:"",state:"ID"},city:"",hours:"",start:"",end:"",description:"",parentId:""},changePassword:{oldpassword:"",password:""},show:!1}},mounted:function(){this.$store.state.owner._id||f.push({name:"Home"})},computed:{owner:function(){return this.$store.state.owner}},methods:{addTruck:function(){this.newTruck.parentId=this.owner._id,this.newTruck.businessName=this.owner.businessName,this.newTruck.address=this.newTruck.location.street,this.newTruck.city=this.newTruck.location.city,this.newTruck.hours=this.newTruck.start+" to "+this.newTruck.end,this.$store.dispatch("addTruck",this.newTruck),this.newTruck={name:"",businessName:"",cuisine:"",location:{street:"",city:"",state:"ID"}}},deleteTruck:function(t){this.$store.dispatch("deleteTruck",t._id)},editTruck:function(t){this.newTruck.address=this.newTruck.location.street,this.newTruck.city=this.newTruck.location.city,this.newTruck.hours=this.newTruck.start+" to "+this.newTruck.end,this.$store.dispatch("editTruck",t)},ownerEdit:function(t){this.$store.dispatch("updateOwner",t)},updatePassword:function(t){this.$store.dispatch("updatePassword",t)},logout:function(){this.$store.dispatch("logout")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ownerProf"},[a("div",{staticClass:"profIcon d-flex"},[a("button",{staticClass:"btn btn-dark ml-auto rnd",on:{click:function(e){t.logout()}}},[t._v("Logout")])]),t._v(" "),a("h1",{staticClass:"title"},[t._v("Hello "+t._s(t.owner.username))]),t._v(" "),a("button",{staticClass:"btn btn1 mb-2",attrs:{type:"button","data-toggle":"modal","data-target":"#editOwnerModal"},on:{click:function(e){t.show=!1}}},[t._v("Edit Profile")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editOwnerModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){e.preventDefault(),t.ownerEdit(t.owner)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.owner.username,expression:"owner.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"formGroupExampleInput",placeholder:"Username",required:""},domProps:{value:t.owner.username},on:{input:function(e){e.target.composing||t.$set(t.owner,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.owner.businessName,expression:"owner.businessName"}],staticClass:"form-control",attrs:{type:"text",name:"businessName",id:"formGroupExampleInput",placeholder:"Business Name",required:""},domProps:{value:t.owner.businessName},on:{input:function(e){e.target.composing||t.$set(t.owner,"businessName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.owner.email,expression:"owner.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"email"},domProps:{value:t.owner.email},on:{input:function(e){e.target.composing||t.$set(t.owner,"email",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn1 mb-3",attrs:{type:"button"},on:{click:function(e){t.show=!0}}},[t._v("Change Password")]),t._v(" "),t.show?a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.changePassword.oldpassword,expression:"changePassword.oldpassword"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Current Password"},domProps:{value:t.changePassword.oldpassword},on:{input:function(e){e.target.composing||t.$set(t.changePassword,"oldpassword",e.target.value)}}})]):t._e(),t._v(" "),t.show?a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.changePassword.password,expression:"changePassword.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"New Password"},domProps:{value:t.changePassword.password},on:{input:function(e){e.target.composing||t.$set(t.changePassword,"password",e.target.value)}}})]):t._e(),t._v(" "),t.show?t._e():a("button",{staticClass:"btn btn2 mb-3",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.ownerEdit(t.owner)}}},[t._v("Save")]),t._v(" "),t.show?a("button",{staticClass:"btn btn1",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updatePassword(t.changePassword)}}},[t._v("Update Password")]):t._e()])]),t._v(" "),t._m(1)])])])]),t._v(" "),a("div",[a("button",{staticClass:"btn btn1 mt-2",attrs:{type:"button","data-toggle":"modal","data-target":"#addTruckModal"}},[t._v("Add Truck")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addTruckModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addTruck(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.name,expression:"newTruck.name"}],staticClass:"form-control",attrs:{value:"newTruck.name",type:"text",name:"truckName",id:"formGroupExampleInput",placeholder:"Truck Name",required:""},domProps:{value:t.newTruck.name},on:{input:function(e){e.target.composing||t.$set(t.newTruck,"name",e.target.value)}}})]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.cuisine,expression:"newTruck.cuisine"}],staticClass:"form-control",attrs:{value:"newTruck.cuisine",name:"Cuisine",placeholder:"Select Cuisine Type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newTruck,"cuisine",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("Please Choose...")]),t._v(" "),a("option",[t._v("Asian")]),t._v(" "),a("option",[t._v("Mexican")]),t._v(" "),a("option",[t._v("American")]),t._v(" "),a("option",[t._v("Soul Food")]),t._v(" "),a("option",[t._v("Italian")]),t._v(" "),a("option",[t._v("Other")])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.location.street,expression:"newTruck.location.street"}],staticClass:"form-control",attrs:{value:"newTruck.location.street",type:"text",name:"location",id:"formGroupExampleInput",placeholder:"Address",required:""},domProps:{value:t.newTruck.location.street},on:{input:function(e){e.target.composing||t.$set(t.newTruck.location,"street",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.location.city,expression:"newTruck.location.city"}],staticClass:"form-control",attrs:{value:"newTruck.location.city",type:"text",name:"city",id:"formGroupExampleInput",placeholder:"City",required:""},domProps:{value:t.newTruck.location.city},on:{input:function(e){e.target.composing||t.$set(t.newTruck.location,"city",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("Open from:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.start,expression:"newTruck.start"}],staticClass:"form-control",attrs:{value:"HH:mm",type:"time"},domProps:{value:t.newTruck.start},on:{input:function(e){e.target.composing||t.$set(t.newTruck,"start",e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("to:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.end,expression:"newTruck.end"}],staticClass:"form-control",attrs:{value:"HH:mm",type:"time"},domProps:{value:t.newTruck.end},on:{input:function(e){e.target.composing||t.$set(t.newTruck,"end",e.target.value)}}})])]),t._v(" "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTruck.description,expression:"newTruck.description"}],staticClass:"form-control",attrs:{value:"newTruck.description",type:"text",name:"description",id:"formGroupExampleInput",placeholder:"Description"},domProps:{value:t.newTruck.description},on:{input:function(e){e.target.composing||t.$set(t.newTruck,"description",e.target.value)}}}),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn2",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addTruck}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])])]),t._v(" "),a("h3",{staticClass:"title"},[t._v("Current Active Trucks:")]),t._v(" "),t._l(t.owner.foodtrucks,function(e){return a("div",{staticClass:"truckboarder"},[a("h2",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v("Location: "+t._s(e.address)+", "+t._s(e.city))]),t._v(" "),a("p",[t._v("Cuisine Type: "+t._s(e.cuisine))]),t._v(" "),a("p",[t._v(t._s(e.hours))]),t._v(" "),a("p",[t._v(t._s(e.description))]),t._v(" "),a("button",{staticClass:"btn btn1 mb-2",attrs:{type:"button","data-toggle":"modal","data-target":"#editTruckModal"}},[t._v("\n            Edit Truck\n        ")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editTruckModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3,!0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(a){a.preventDefault(),t.editTruck(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"truck.name"}],staticClass:"form-control",attrs:{type:"text",name:"truckname",id:"formGroupExampleInput",placeholder:"Truck Name",required:""},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.cuisine,expression:"truck.cuisine"}],staticClass:"form-control",attrs:{name:"Cuisine",placeholder:"Select Cuisine Type"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"cuisine",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("Please Choose...")]),t._v(" "),a("option",[t._v("Asian")]),t._v(" "),a("option",[t._v("Mexican")]),t._v(" "),a("option",[t._v("American")]),t._v(" "),a("option",[t._v("Soul Food")]),t._v(" "),a("option",[t._v("Italian")]),t._v(" "),a("option",[t._v("Other")])]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"truck.address"}],staticClass:"form-control",attrs:{type:"text",name:"location",id:"formGroupExampleInput",placeholder:"Address",required:""},domProps:{value:e.address},on:{input:function(a){a.target.composing||t.$set(e,"address",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"truck.city"}],staticClass:"form-control",attrs:{type:"text",name:"city",id:"formGroupExampleInput",placeholder:"City",required:""},domProps:{value:e.city},on:{input:function(a){a.target.composing||t.$set(e,"city",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("Open from:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.start,expression:"truck.start"}],staticClass:"form-control",attrs:{value:"HH:mm",type:"time"},domProps:{value:e.start},on:{input:function(a){a.target.composing||t.$set(e,"start",a.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("to:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.end,expression:"truck.end"}],staticClass:"form-control",attrs:{value:"HH:mm",type:"time"},domProps:{value:e.end},on:{input:function(a){a.target.composing||t.$set(e,"end",a.target.value)}}})])]),t._v(" "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"truck.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"formGroupExampleInput",placeholder:"Description"},domProps:{value:e.description},on:{input:function(a){a.target.composing||t.$set(e,"description",a.target.value)}}}),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn2",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){t.editTruck(e)}}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])]),t._v(" "),a("button",{on:{click:function(a){t.deleteTruck(e)}}},[a("i",{staticClass:"far fa-trash-alt cardIcon"})])])])])])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Edit Profile")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Done")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Add Truck")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Edit Truck")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var l=a("VU/8")(r,c,!1,function(t){a("m6/1")},null,null).exports,u={name:"Home",components:{ownerProfile:l},data:function(){return{login:{username:"",password:""},register:{username:"",businessName:"",email:"",password:""},search:{distance:"",zipcode:"",truckname:"",cuisineType:""},userGeoLocation:{},geocode:{street:"",city:"",state:""},windowGeoLoc:{lat:0,lng:0}}},mounted:function(){this.$store.state.owner._id||this.$store.dispatch("authenticate"),this.$store.dispatch("getAllTrucks")},computed:{},methods:{ownerLogin:function(){this.$store.dispatch("login",this.login)},ownerRegister:function(){this.$store.dispatch("register",this.register)},getTrucks:function(){this.$store.dispatch("getTrucks",this.search)},convertGeoCode:function(){this.$store.dispatch("convertGeoCode",this.geocode),this.geocode={street:"",city:"",state:""}},goToSearch:function(){f.push({name:"Search"})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fullscreen"},[s("div",{staticClass:"home container-fluid"},[s("div",{staticClass:"main-top-style"},[s("button",{staticClass:"btn btn1 mt-1 btnwidth2 mr-4",attrs:{type:"button","data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.ownerLogin(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.username,expression:"\n                          login.username"}],staticClass:"form-control",attrs:{type:"text",name:"ownerUsername",id:"formGroupExampleInput",placeholder:"Username",required:""},domProps:{value:t.login.username},on:{input:function(e){e.target.composing||t.$set(t.login,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"\n                              login.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn1",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.ownerLogin}},[t._v("Login")]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])]),t._v(" "),s("button",{staticClass:"btn btn1 mt-1 btnwidth2 ml-4",attrs:{type:"button","data-toggle":"modal","data-target":"#registerModal"}},[t._v("Register")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"registerModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.ownerRegister(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.username,expression:"register.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"formGroupExampleInput",placeholder:"Username",required:""},domProps:{value:t.register.username},on:{input:function(e){e.target.composing||t.$set(t.register,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.businessName,expression:"register.businessName"}],staticClass:"form-control",attrs:{type:"text",name:"businessName",id:"formGroupExampleInput",placeholder:"Business Name",required:""},domProps:{value:t.register.businessName},on:{input:function(e){e.target.composing||t.$set(t.register,"businessName",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"email"},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.password,expression:"register.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.register.password},on:{input:function(e){e.target.composing||t.$set(t.register,"password",e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn1",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.ownerRegister}},[t._v("Register")]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])]),t._v(" "),s("h1",{staticClass:"Title"},[t._v("OnWheels")]),t._v(" "),t._m(2),t._v(" "),s("img",{staticClass:"mb-2 trucklogo",attrs:{src:a("wLbA")}})]),t._v(" "),s("div",{staticClass:"main-bottom-style"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.getTrucks(e)}}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10 offset-sm-1 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search.truckname,expression:"search.truckname"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Truck Name",id:"search-input"},domProps:{value:t.search.truckname},on:{input:function(e){e.target.composing||t.$set(t.search,"truckname",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.search.cuisineType,expression:"search.cuisineType"}],staticClass:"form-control",attrs:{name:"Cuisine"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.search,"cuisineType",e.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("Cuisine Type")]),t._v(" "),s("option",[t._v("Asian")]),t._v(" "),s("option",[t._v("Mexican")]),t._v(" "),s("option",[t._v("American")]),t._v(" "),s("option",[t._v("Soul Food")]),t._v(" "),s("option",[t._v("Italian")]),t._v(" "),s("option",[t._v("Other")])]),t._v(" "),s("div",{staticClass:"foodtruck"},[s("button",{staticClass:"btn btn1 mt-1 mb-1 btnwidth",attrs:{type:"submit"},on:{click:t.goToSearch}},[t._v("Find that truck")])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Login")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Register")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("i",{staticClass:"fas fa-map-marker-alt fa-spin spinner"})])}]};var m=a("VU/8")(u,d,!1,function(t){a("e/2J")},"data-v-4779b3ce",null).exports,p={name:"Search",props:["name"],data:function(){return{mapName:"localtruck-map",map:{},center:{lat:43.615,lng:-116.2023},user:!1,labels:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",labelIndex:0}},mounted:function(){this.$store.dispatch("getAllTrucks")},computed:{userGeoLocation:function(){return this.$store.state.userGeoLocation},foodTrucks:function(){return this.$store.state.foodtrucks}},watch:{foodTrucks:{handler:function(t){var e=this,a=document.getElementById("localTruckMap");0!=this.userGeoLocation.lat&&(this.center.lat=this.userGeoLocation.lat,this.center.lng=this.userGeoLocation.lng);var s={zoom:12,center:new google.maps.LatLng(this.center.lat,this.center.lng)},o=new google.maps.Map(a,s);t.forEach(function(t){new google.maps.Marker({position:{lat:t.location[0].location.lat,lng:t.location[0].location.lng},map:o,label:e.labels[e.labelIndex++%e.labels.length]}).setMap(o)})}},deep:!0},methods:{getGeoLocation:function(){this.$store.dispatch("getGeoLocation"),this.$store.dispatch("getAllTrucks")},backHome:function(){f.push({name:"Home"})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid search",on:{"&scroll":function(e){return t.onScroll(e)}}},[a("div",{staticClass:"btn-style text-center"},[t.user?t._e():a("button",{staticClass:"mt-1 btn btn1 mb-2",staticStyle:{float:"right"},on:{click:function(e){t.getGeoLocation,t.user=!0}}},[t._v("Use my location")]),t._v(" "),a("button",{staticClass:"mt-1 btn btn1 mb-2",staticStyle:{float:"left"},on:{click:t.backHome}},[t._v("Back")])]),t._v(" "),a("div",{staticClass:"google-map pb-0.5",attrs:{id:"localTruckMap"}}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"accordion",attrs:{id:"accordion"}},t._l(t.foodTrucks,function(e,s){return a("div",{key:s,staticClass:"card"},[a("div",{staticClass:"card-header pb-0 pt-0",staticStyle:{height:"35px"},attrs:{id:s}},[a("h5",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#"+e._id,"aria-expanded":"true","aria-controls":e._id}},[a("p",[t._v(t._s(t.labels[s])+" - "+t._s(e.businessName))])])])]),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:e._id,"aria-labelledby":s,"data-parent":"#accordion"}},[a("div",{staticClass:"card-body text-left flex-wrap"},[a("p",{staticClass:"truck-info"},[t._v(t._s(e.businessName))]),t._v(" "),a("p",{staticClass:"truck-info"},[t._v(t._s(e.address)+", "+t._s(e.city))]),t._v(" "),a("p",{staticClass:"truck-info"},[t._v(t._s(e.cuisine))]),t._v(" "),a("p",{staticClass:"truck-info"},[t._v(t._s(e.hours))])])])])}))])])},staticRenderFns:[]};var g=a("VU/8")(p,v,!1,function(t){a("hhpA")},null,null).exports;s.a.use(i.a);var f=new i.a({routes:[{path:"/",name:"Home",component:m},{path:"/Owner",name:"OwnerProfile",component:l},{path:"/Search",name:"Search",component:g}]}),h=a("//Fk"),_=a.n(h),w=a("NYxO"),b=a("mtWM"),C=a.n(b),k=!window.location.host.includes("localhost")?"//heroku":"//localhost:3000/";s.a.use(w.a);var T=C.a.create({baseURL:k,timeout:3e3,withCredentials:!0}),y=C.a.create({baseURL:k+"auth/",timeout:3e3,withCredentials:!0}),x=(C.a.create({baseURL:"https://www.googleapis.com/geolocation/v1/geolocate",timeout:3e3,withCredentials:!0}),C.a.create({baseURL:"https://maps.googleapis.com/maps/api/geocode"})),P="?key=AIzaSyCp89R6XqYSrTub4SbaoOnKj2IQ-iC2RoU";function $(t){var e="",a=0;for(var s in t){var o=t[s].split(" ").join("+");e+=a<2?o+",+":o,a++}return e}var N=new w.a.Store({state:{owner:{},foodtrucks:[],activeTruck:{},map:{},userGeoLocation:{lat:0,lng:0},geoLocationTruck:{}},mutations:{setOwner:function(t,e){t.owner=e},deleteOwner:function(t){t.owner={}},setActiveTruck:function(t,e){t.activeTruck=e},setTrucks:function(t,e){t.foodtrucks=e},updateOwnerTrucks:function(t,e){t.owner.foodtrucks=e},setMap:function(t,e){console.log("You called the setMap mutation and didnt write it")},setUserGeoLoc:function(t,e){t.userGeoLocation.lat=e.latitude,t.userGeoLocation.lng=e.longitude,console.log("this is the user geoloc: ",t.userGeoLocation)},setGeoTruckLocation:function(t,e){t.geoLocationTruck=e}},actions:{login:function(t,e){var a=t.commit;y.post("login",e).then(function(t){console.log("Successfully logged in"),console.log(t.data),a("setOwner",t.data.data),f.push({name:"OwnerProfile"})})},logout:function(t){var e=t.commit;y.delete("logout").then(function(t){e("deleteOwner"),f.push({name:"Home"})})},register:function(t,e){var a=t.commit;console.log(e),y.post("register",e).then(function(t){a("setOwner",t.data),f.push({name:"OwnerProfile"})})},authenticate:function(t){var e=t.commit;y.get("/authenticate").then(function(t){e("setOwner",t.data),f.push({name:"OwnerProfile"})}).catch(function(t){console.log(t)})},deleteOwner:function(t,e){var a=t.commit;T.delete("api/owners/"+e).then(function(t){a("setOwner",e)})},updateOwner:function(t,e){var a=t.commit;console.log(e),T.put("api/owners/"+e._id,e).then(function(t){console.log(t.data.message),a("setOwner",e)}).catch(function(t){console.log(t)})},updatePassword:function(t,e){t.commit,t.dispatch;y.post("updatePassword",e).then(function(t){console.log("Password successfully updated")})},addTruck:function(t,e){var a=t.dispatch,s=$(e.location);x.get("/json?address="+s+P).then(function(t){e.location.location=t.data.results[0].geometry.location,T.put("api/owners/"+e.parentId+"/trucks",e).then(function(t){a("getTrucks",e.parentId)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},getAllTrucks:function(t){var e=t.commit;T.get("api/trucks").then(function(t){e("setTrucks",t.data)})},getTrucks:function(t,e){var a=t.commit;T.get("api/owner/"+e+"/trucks").then(function(t){a("updateOwnerTrucks",t.data)}).catch(function(t){console.log(t)})},viewTruck:function(t,e){var a=t.commit;T.get("api/trucks/"+e).then(function(t){a("setActiveTruck",t.data)})},editTruck:function(t,e){var a=t.dispatch;T.put("api/owners/"+e.parentId+"/trucks/"+e._id).then(function(t){a("getTrucks",e.parentId)}).catch(function(t){console.log(t)})},deleteTruck:function(t,e){var a=t.dispatch,s=t.state;T.delete("/api/owner/"+s.owner._id+"/trucks/"+e).then(function(t){a("getTrucks",s.owner._id)}).catch(function(t){console.log(t)})},getMap:function(t,e){t.commit,t.dispatch;console.log(e.query),T.post("/api/google",e).then(function(t){console.log(t)})},getGeoLocation:function(t){var e=t.commit;(function(t){if(navigator.geolocation)return new _.a(function(e,a){navigator.geolocation.getCurrentPosition(e,a,t)})})().then(function(t){e("setUserGeoLoc",t.coords)}).catch(function(t){console.log("Browser does not support geolocation")})},convertGeoCode:function(t,e){t.commit,t.dispatch;var a=$(e);x.get("/json?address="+a+P).then(function(t){console.log(t.data.results[0].geometry.location),console.log("geocode was converted to the above but you still need to do something with it")})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:f,store:N,components:{App:n},template:"<App/>"})},"e/2J":function(t,e){},hhpA:function(t,e){},"m6/1":function(t,e){},rR3T:function(t,e){},wLbA:function(t,e,a){t.exports=a.p+"static/img/Food Truck.dbe06a5.jpg"}},["NHnr"]);
//# sourceMappingURL=app.f33d83c14ef08d2bd1dc.js.map